<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="layout/default_layout">
<head>
<meta charset="UTF-8">
<title>개인정보 수정</title>
<script>

	function validatePassword() {
		if (document.querySelector('#password').value !== document
				.querySelector('#confirm-password').value) {
			confirmPassword.setCustomValidity('비밀번호와 비밀번호 확인이 일치하지 않습니다.');
		} else {
			confirmPassword.setCustomValidity('');
		}
	}
	

</script>
</head>
<body layout:fragment="section">
	<h2>[ 개인정보 수정 ]</h2>
	<form action="update" method="post" th:object="${member}">
		<table>
			<tr>
				<td><input type="email" th:field="*{mail}" disabled="disabled"></td>
			</tr>

			<tr>
				<td><input type="password" th:field="*{password}"
					placeholder="비밀번호" required
					oninvalid="setCustomValidity('비밀번호는 숫자, 알파벳 대소문자, 특수문자 중 최소 하나를 꼭 포함해 8자 이상 16자 이하로 입력해주세요.')"
					oninput="setCustomValidity('')"
					pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,16}$">
					<sub class="password">숫자, 영어 대소문자, 특수문자(!@#$%^&*)를 최소 하나 이상
						포함해 8자리 이상 16자리 이하 가능</sub></td>
			</tr>

			<tr>
				<td><input type="password" id="confirm-password"
					name="confirm-password" placeholder="비밀번호 확인" required
					oninvalid="setCustomValidity('비밀번호는 숫자, 알파벳 대소문자, 특수문자 중 최소 하나를 꼭 포함해 8자 이상 16자 이하로 입력해주세요.')"
					oninput="setCustomValidity('')"
					pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,16}$">
					<sub class="confirm-password">비밀번호를 한 번 더 입력해주세요.</sub></td>
			</tr>
			<tr>
				<td><input type="text" name="name" placeholder="성명"
					th:field="*{name}" required></td>
			</tr>
			<tr>
				<td><input type="text" name="member_id" placeholder="사용자 이름"
					th:field="*{mem_id}" pattern="[a-z0-9_\-\.]{4,16}"
					onkeyup="resetCheckMemberId()" required
					oninvalid="setCustomValidity('아이디는 4~16글자 안으로 소문자, 숫자, -,_,. 문자만 사용할 수 있습니다.')"
					oninput="setCustomValidity('')"> <sub class="member_id">4자리~
						16자리로 영문 소문자, 숫자, 특수문자(_,-,.)만 사용할 수 있습니다.</sub></td>
			</tr>
			<tr>
				<td><input type="text" th:field="*{gender}" disabled="disabled"></td>
			</tr>
			<tr>
				<td><input type="date" th:field="*{birth}" disabled="disabled"></td>
			</tr>
			<tr>
				<td><input type="text" th:field="*{phone}"></td>
			</tr>
		</table>
		<div>
			<input type="submit" value="수정하기">
		</div>
	</form>
</body>
</html>